<?xml version="1.0" encoding="UTF-8"?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Rectangle?>

<VBox xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.wellness.assistant.AnalyticsController" styleClass="analytics-view">
   <children>
      <!-- Header Section -->
      <VBox styleClass="analytics-header">
         <children>
            <Label fx:id="titleLabel" styleClass="page-title" text="Your Wellness Analytics" />
            <Label fx:id="subtitleLabel" styleClass="page-subtitle" text="Track your progress and get AI-powered insights" />
         </children>
         <padding>
            <Insets bottom="20.0" left="30.0" right="30.0" top="30.0" />
         </padding>
      </VBox>
      
      <!-- Time Period Selector -->
      <HBox alignment="CENTER_LEFT" styleClass="time-period-section">
         <children>
            <de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView glyphName="CALENDAR" styleClass="calendar-icon" />
            <Label styleClass="time-period-label" text="Time Period" />
            <HBox spacing="5.0" styleClass="time-period-buttons">
               <children>
                  <ToggleButton styleClass="time-period-button" text="Today" />
                  <ToggleButton selected="true" styleClass="time-period-button active" text="This Week" />
                  <ToggleButton styleClass="time-period-button" text="Last 30 Days" />
                  <ToggleButton styleClass="time-period-button" text="All Time" />
               </children>
            </HBox>
         </children>
         <padding>
            <Insets bottom="20.0" left="30.0" right="30.0" top="0.0" />
         </padding>
      </HBox>
      
      <!-- Summary Cards Section -->
      <GridPane hgap="20.0" styleClass="analytics-cards" vgap="20.0">
         <columnConstraints>
            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
         </columnConstraints>
         <rowConstraints>
            <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
            <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
         </rowConstraints>
         <children>
            <!-- Total Activities Card -->
            <VBox styleClass="analytics-card">
               <children>
                  <HBox alignment="CENTER_LEFT">
                     <children>
                        <Label text="Total Activities" />
                        <Region HBox.hgrow="ALWAYS" />
                        <Rectangle styleClass="analytics-icon" />
                     </children>
                  </HBox>
                  <Label fx:id="totalActivitiesValue" styleClass="analytics-value" text="0" />
                  <Label styleClass="analytics-subtitle" text="0 completed" />
               </children>
            </VBox>
            
            <!-- Completion Rate Card -->
            <VBox GridPane.columnIndex="1" styleClass="analytics-card">
               <children>
                  <HBox alignment="CENTER_LEFT">
                     <children>
                        <Label text="Completion Rate" />
                        <Region HBox.hgrow="ALWAYS" />
                        <Rectangle styleClass="analytics-icon" />
                     </children>
                  </HBox>
                  <Label fx:id="completionRateValue" styleClass="analytics-value" text="0%" />
                  <Label styleClass="analytics-subtitle" text="Keep it up!" />
               </children>
            </VBox>
            
            <!-- Completed Card -->
            <VBox GridPane.rowIndex="1" styleClass="analytics-card completed-card">
               <children>
                  <HBox alignment="CENTER_LEFT">
                     <children>
                        <Label text="Completed" />
                        <Region HBox.hgrow="ALWAYS" />
                        <Rectangle styleClass="analytics-icon" />
                     </children>
                  </HBox>
                  <Label fx:id="completedValue" styleClass="analytics-value" text="0" />
                  <Label styleClass="analytics-subtitle" text="Activities done" />
               </children>
            </VBox>
            
            <!-- Skipped Card -->
            <VBox GridPane.columnIndex="1" GridPane.rowIndex="1" styleClass="analytics-card skipped-card">
               <children>
                  <HBox alignment="CENTER_LEFT">
                     <children>
                        <Label text="Skipped" />
                        <Region HBox.hgrow="ALWAYS" />
                        <Rectangle styleClass="analytics-icon" />
                     </children>
                  </HBox>
                  <Label fx:id="skippedValue" styleClass="analytics-value" text="0" />
                  <Label styleClass="analytics-subtitle" text="Try to reduce these" />
               </children>
            </VBox>
         </children>
         <padding>
            <Insets bottom="20.0" left="30.0" right="30.0" top="0.0" />
         </padding>
      </GridPane>
      
      <!-- AI Recommendations Section -->
      <VBox styleClass="recommendations-section">
         <children>
            <HBox alignment="CENTER_LEFT">
               <children>
                  <de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView glyphName="STAR" styleClass="section-icon" />
                  <Label styleClass="section-title" text="AI-Powered Recommendations" />
               </children>
            </HBox>
            <VBox fx:id="recommendationsContainer" spacing="10.0" styleClass="recommendations-list" />
         </children>
         <padding>
            <Insets bottom="20.0" left="30.0" right="30.0" top="0.0" />
         </padding>
      </VBox>
      
      <!-- Activity History Section -->
      <VBox styleClass="activity-history-section">
         <children>
            <Label styleClass="section-title" text="Activity History" />
            <VBox fx:id="activityHistoryContainer" spacing="10.0" styleClass="activity-history-list" />
         </children>
         <padding>
            <Insets bottom="30.0" left="30.0" right="30.0" top="0.0" />
         </padding>
      </VBox>
   </children>
</VBox>

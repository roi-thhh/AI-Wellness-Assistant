<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Rectangle?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.wellness.assistant.AnalyticsController" styleClass="analytics-view">
   <children>
      <!-- Header Section -->
      <VBox styleClass="analytics-header">
         <children>
            <Label fx:id="titleLabel" styleClass="page-title" text="Your Wellness Analytics" />
            <Label fx:id="subtitleLabel" styleClass="page-subtitle" text="Track your progress and get AI-powered insights" />
         </children>
         <padding>
            <Insets bottom="20.0" left="30.0" right="30.0" top="30.0" />
         </padding>
      </VBox>
      
      <!-- Time Period Selector -->
      <HBox alignment="CENTER_LEFT" styleClass="time-period-section">
         <children>
            <FontIcon iconLiteral="fas-calendar" styleClass="calendar-icon" />
            <Label styleClass="time-period-label" text="Time Period" />
            <HBox spacing="5.0" styleClass="time-period-buttons">
               <children>
                  <ToggleButton fx:id="todayBtn" styleClass="time-period-button" text="Today" onAction="#onPeriodChanged" toggleGroup="$periodGroup" />
                  <ToggleButton fx:id="thisWeekBtn" selected="true" styleClass="time-period-button active" text="This Week" onAction="#onPeriodChanged" toggleGroup="$periodGroup" />
                  <ToggleButton fx:id="last30Btn" styleClass="time-period-button" text="Last 30 Days" onAction="#onPeriodChanged" toggleGroup="$periodGroup" />
                  <ToggleButton fx:id="allTimeBtn" styleClass="time-period-button" text="All Time" onAction="#onPeriodChanged" toggleGroup="$periodGroup" />
               </children>
            </HBox>
         </children>
         <padding>
            <Insets bottom="20.0" left="30.0" right="30.0" top="0.0" />
         </padding>
      </HBox>
      
      <!-- Summary Cards Section -->
      <GridPane hgap="20.0" styleClass="analytics-cards" vgap="20.0">
         <columnConstraints>
            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
         </columnConstraints>
         
         <children>
            <!-- Total Activities Card -->
            <VBox styleClass="analytics-card" alignment="TOP_LEFT" spacing="8">
               <children>
                     <Label text="Total Activities" styleClass="card-label">
                        <VBox.margin>
                           <Insets bottom="8.0" />
                        </VBox.margin>
                     </Label>
                     <Label fx:id="totalActivitiesValue" styleClass="analytics-value">
                        <VBox.margin>
                           <Insets bottom="4.0" />
                        </VBox.margin>
                     </Label>
                     <Label styleClass="analytics-subtitle" text="completed" />
               </children>
            </VBox>
            
            <!-- Completion Rate Card -->
            <VBox GridPane.columnIndex="1" styleClass="analytics-card" alignment="TOP_LEFT" spacing="8">
               <children>
                     <Label text="Completion Rate" styleClass="card-label">
                        <VBox.margin>
                           <Insets bottom="8.0" />
                        </VBox.margin>
                     </Label>
                     <Label fx:id="completionRateValue" styleClass="analytics-value">
                        <VBox.margin>
                           <Insets bottom="4.0" />
                        </VBox.margin>
                     </Label>
                     <Label styleClass="analytics-subtitle" text="Keep it up!" />
               </children>
            </VBox>
            
            <!-- Completed Card -->
            <VBox GridPane.rowIndex="1" styleClass="analytics-card completed-card" alignment="TOP_LEFT" spacing="8">
               <children>
                     <Label text="Completed" styleClass="card-label">
                        <VBox.margin>
                           <Insets bottom="8.0" />
                        </VBox.margin>
                     </Label>
                     <Label fx:id="completedValue" styleClass="analytics-value">
                        <VBox.margin>
                           <Insets bottom="4.0" />
                        </VBox.margin>
                     </Label>
                     <Label styleClass="analytics-subtitle" text="activities done" />
               </children>
            </VBox>
            
            <!-- Skipped Card -->
            <VBox GridPane.columnIndex="1" GridPane.rowIndex="1" styleClass="analytics-card skipped-card" alignment="TOP_LEFT" spacing="8">
               <children>
                     <Label text="Skipped" styleClass="card-label">
                        <VBox.margin>
                           <Insets bottom="8.0" />
                        </VBox.margin>
                     </Label>
                     <Label fx:id="skippedValue" styleClass="analytics-value">
                        <VBox.margin>
                           <Insets bottom="4.0" />
                        </VBox.margin>
                     </Label>
                     <Label styleClass="analytics-subtitle" text="try to reduce these" />
               </children>
            </VBox>
         </children>
         <padding>
            <Insets bottom="20.0" left="30.0" right="30.0" top="0.0" />
         </padding>
      </GridPane>
      
      <!-- AI Recommendations Section -->
      <VBox styleClass="recommendations-section" spacing="15">
         <children>
               <HBox alignment="CENTER_LEFT" spacing="10">
                  <VBox.margin>
                     <Insets bottom="10.0" />
                  </VBox.margin>
               <children>
                  <FontIcon iconLiteral="fas-star" styleClass="section-icon" />
                  <Label styleClass="section-title" text="AI-Powered Recommendations" />
               </children>
            </HBox>
            <VBox fx:id="recommendationsContainer" spacing="10.0" styleClass="recommendations-list" />
         </children>
         <padding>
            <Insets bottom="20.0" left="30.0" right="30.0" top="0.0" />
         </padding>
      </VBox>
      
      <!-- Activity History Section -->
      <VBox styleClass="activity-history-section" spacing="15">
         <children>
               <Label styleClass="section-title" text="Activity History">
                  <VBox.margin>
                     <Insets bottom="10.0" />
                  </VBox.margin>
               </Label>
            <VBox fx:id="activityHistoryContainer" spacing="10.0" styleClass="activity-history-list" />
         </children>
         <padding>
            <Insets bottom="30.0" left="30.0" right="30.0" top="0.0" />
         </padding>
      </VBox>
   </children>
</VBox>
